# 3.10 阿里一面

面试开始让介绍了一下项目，然后就是两道编程题，第一道题应该是想考考我计算机功底，第二道题就是看看我刷题的水平

### 第一题：实现一个函数，输入0，输出1；输入1，输出0，不考虑其他情况

```
int get1(int n)
{
    if (n == 0) return 1;
    else return 0;
}
int get2(int n)
{
    return n ^ 1;
}
int get3(int n)
{
    bool f = n;
    return !f;
}
int get4(int n)
{
    stack<int> s;
    s.push(0);
    s.push(1);
    while (n--) s.pop();
    return s.top();
}
int get5(int n)
{
    return 1 - n;
}
int get6(int n)
{
    int tmp = n + 1;
    return tmp & 1;
}
int get7(int n)
{
    int arr[2] = { 1, 0 };
    return arr[n];
}
```

分析以上函数的运行效率（异或最快，后面没回答上来

get6和get1比较哪个效率更高（get1快一点

cpu中n==0的判断是怎么实现的（不知道

get1和get7效率谁更高（我回答的是get7慢一点，因为要先生成一个数组，然后再去取索引

为什么get7慢

get7数组生成在哪（在栈上生成

栈的值是怎么初始化的，你觉得栈的分配效率和全局内存（后来他说是全局堆，应该是指的堆区）的分配效率谁会更高一些

栈的内存是怎么分配的（有一个栈区，分配内存就是把值压栈

全局堆是怎么分配内存的（不知道

有学过机组和汇编吗（没有

可以学习一下cpu判等这些底层是怎么实现的

### 第二题：[买股票](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/)

我当时只记着用dp数组做（代码随想录的方法），他后来让我优化空间，我就用两个值代替前一天的状态，但是他心理的答案可能是更常规的那种解法，但是当时我没想到，就给他讲了一遍思路



# 3.11 美团一面（凉）

自我介绍（感觉没有第一次说得好，还得在组织一下语言

### 项目相关：

有测过最多支持多少人同时在线

有考虑过上线吗

用的什么架构（没回答上来，没有复习项目介绍，应该说是参考webrtc架构

有什么做的比较有意思（瞎jb说的，业务服务器这边没啥好说的

自己做的比较好的是什么（没有，瞎说

消息延迟是多少？

异常处理有什么？（接着瞎说，只有一些错误码返回

从客户端来看异常处理怎么做？如果没有收到服务器响应客户端怎么办？（没有这种处理

考虑高并发吗？目前有哪些可以优化吗（瞎扯，没接触过高并发

有听说过reactor模型吗？（解释了一下reactor模型，大致是一个线程接收消息，然后分发给下面有多个线程处理，我说媒体转发服务器就是用的这种方式

还有别的方面觉得做得好的吗，问了一下剩下的两个项目大致情况我提了一下人脸关键点的多线程优化，他具体问了一下怎么优化的（这块优化还是需要整理一下

### 计算机基础：

c++有什么水平（这个不太好回答，我也不好说，含糊过去了

tcp挥手协议

知道用户态和内核态吗？（大概讲了一下内核态和用户态，前一天刚扫了一遍，还不太熟

从网络接收到数据到用户可以处理，这之间的数据流是怎么样的（不知道

知道乐观锁和悲观锁定义吗（不知道

对c++锁了解吗（之前看了，四种，当时忘了，只记得互斥锁和条件变量

线程和进程的区别（回答的有点含糊，大致讲了一下进程可以管理内存，一个进程有多个线程，线程占用CPU资源，一个进程多个线程内存资源共享

描述一下进程的内存模型

栈里面存放什么东西

完全二叉树和平衡二叉树的定义（完全二叉树知道但是没理清楚话，讲的很乱

### 其他：

有没有做过其他项目

职业规划

自己有学过什么网课吗

### 算法题

回溯题

给你m个字典（数组）（m不知道），每个字典里有一个或者多个词（字符），每一个字典里选一个词，最后组合起来会有多少种结果，打印出来

题目的意思就是给你一个数组，数组的长度和宽度不确定，每行取一个元素，做一个全排列，输出结果

```
vector<vector<char>> nums = {
		{'1', '2', '3', ...},
		{'1', '2', '3', '4', '5', ...},
		{'1', '2', '3', '4', '5', '6', '7', ...},
		{'1', ...},
		{'1', '2', '3', '4', ...},
		...
		...
	};
```



# 3.18 阿里二面

自我介绍

### cpp基础：

static关键字作用（全局变量，局部变量，成员变量，成员函数

static的原理是怎么实现的（存放在全局数据区

普通全局变量和普通的局部变量分别存在内存的什么位置（全局在全局区，普通在栈区

什么变量存在堆里

static修饰函数有什么特点

static修饰的函数可以作为回调函数进行回调吗

static变量多线程同时读写，有什么需要注意的（加锁

具体可以加什么锁（互斥锁

多线程同步的常见方法

了解信号量

cpp11以上的特性了解吗

### 数据结构：

标准模板库用过吗

知道vector实现原理吗

实际编程中如何选择数组和链表要如何选择

平常使用过哪些排序算法，时间和空间复杂度是多少

假设有100亿的整数数据流，设计一个数据结构，满足o1的时间复杂度查找已有的数据的中位数，ologn时间复杂度添加新的元素（两个堆，一个大顶堆一个小顶堆，大顶堆存中位数及更小的元素，小顶堆存比中位数大的元素

### Linux：

看linux系统状态一般会怎么看（cat命令到根目录下的proc路劲下，查看相应的系统状态文件，top，ps命令

从文件中查找单词出现的频率（不太会，瞎说的

1000台服务器，每台服务器有一个T的日志，查找所有日志里的某一个ip怎么查

有接触过大数据处理框架吗（没有

### 调试相关：

后台服务异常排查方法（复现，查看日志

平时写程序怎么验证和测试

程序怎么debug

程序core dump了怎么处理

用过gdb吗

多线程的程序怎么验证和调试

### 编程题：

实现一个big int类，支持256位的整数，并实现其加法操作（没做出来



# 3.21 字节一面

自我介绍

### 项目相关：

多人会议系统中的角色是什么，大概完成的工作

技术上的难点或者自己的亮点

问题是怎么发现的

又遇到过崩溃的问题吗？怎么分析的

代码到服务器上是怎么调试

### cpp：

一个类中有一个虚函数，一个int，bool和int64，这个类的对象占的内存（8+4+4+8）

如果是32位系统（4+4+4+8，这个地方下来写了一下函数，发现好像回答错了，应该也是24）

虚函数是怎么实现的

调用一次虚函数，会发生几次内存访问（3次

虚函数表存放的地址空间

虚函数表是否允许修改函数指针

unique_ptr怎么实现作为函数参数传递（传引用或者传右值

堆区和栈区的区别

new和malloc有什么区别吗

进程和线程的区别

了解过协程？（不了解

线程每次是只能执行一个吗还是可以多个同时执行

一个进程有多个线程，会有多个堆和多个栈（只有一个堆，一个线程有一个栈

### 编程：

比较两个时间字符串，输入的字符串格式为 16:32 或 16:32:23，输出两个时间中更早的时间字符串 [165. 比较版本号](https://www.craft.do/s/newohJwwYWrivz/x/B95E233E-20AB-46DD-870C-EEF3AD7CE9EE)



# 3.23 字节二面

项目介绍

### cpp

线程同步方式

常用的容器有哪些

了解哪些容器的底层数据结构

普通的map和哈希map的使用场景

普通的map遍历时是有序的

遍历vector容器的方法（索引，迭代器

begin返回的迭代器返回的元素有效吗，end呢

如果反向遍历（rbegin和rend

了解c++中的多态吗，它的原理是什么

进程地址空间会有什么

文件映射区了解吗

内存映射一个文件，这个文件会不会直接加载到物理内存中（不会直接加载，需要的时候触发缺页中断，在进行加载

内存映射和直接读文件到内存，那个效率高一点（按需加载，需要用到的时候才会加载进内存，节省内存空间。如果走系统读取，要走io先读到内核，再从内核拷贝到用户内存，会多一次拷贝操作

linux下程序崩溃是怎么处理